---
const pages = [
    { name: "Home", address: "/" },
    { name: "Essays", address: "/blog/" },
    { name: "Topics", address: "/topics/"},
    { name: "Travels", address: "/travels/"},
    { name: "About", address: "/about/" }
]
---
<nav>
    <div class="not-expanded">
            <a class="icon" href="/">FlauFly</a>

            <!-- Desktop Menu -->
            <div class="desktop-menu">
                {
                    pages.map((item) => (
                        <a href={item.address}>{item.name}</a>
                    ))
                }
            </div>

            <!-- Mobile Menu Button -->
            <div class="mobile">
                <button id="menu-toggle">
                    ☰
                </button>
            </div>         
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-expanded hidden">
        {
            pages.map((item) => (
                <a href={item.address}>{item.name}</a>
            ))
        }
    </div>  
</nav>

<style>
    nav {
        color: var(--color-accent);
        font-size: var(--text-size-lg);
        padding: var(--spacing-base);
        margin-bottom: var(--spacing-lg)
    }

    nav a:not(.icon) {
        
    }

    .icon {
        color: var(--color-primary-dark);
        font-family: var(--font-icon);
        font-size: var(--font-size-xl);
        transition: 0.3s ease-out;

        &:hover, &:focus {
            scale: 1.1;
        }
    }

    button {
        background-color: var(--color-background);
        color: var(--color-secondary);
    }

    /* Small screen */
    .not-expanded {
        margin-inline: auto;
        padding-inline: var(--spacing-base);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .mobile-expanded {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-base);
    }

    .hidden {
        display: none;
    }

    .desktop-menu {
        display: none;
    }

    /* Middle screen and above */
    @media screen and (width >= 768px) {
        .mobile {
            display: none;
        }

        .mobile-expanded {
            display: none;
        }

        .desktop-menu {
            display: flex;
            gap: var(--spacing-base);
        }
    }
</style>

<script>
    const toggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    toggle?.addEventListener('click', () => {
        mobileMenu?.classList.toggle('hidden');
        if (toggle.innerHTML === "⨉") {
            toggle.innerHTML = "☰";
        } else {
            toggle.innerHTML = "⨉";
        }
    });
</script>
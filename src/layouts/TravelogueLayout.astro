---
import BaseLayout from './BaseLayout.astro';
import ProgressBar from '../components/ProgressBar.astro';
import ProseWrapper from '../components/ProseWrapper.astro';
import TableOfContents from '../components/TableOfContents.astro';
const { frontmatter, headings } = Astro.props;

function hasTOC(data: any): data is { toc: boolean } {
	return "toc" in data;
}

---
<BaseLayout pageTitle={frontmatter.title}>
  <ProgressBar />
    <!-- Title and description at the top -->
      <h1>{frontmatter.title}</h1>
    <!-- Metadata about article -->
    <div class="date">
      <span class="text-accent">Date:</span>
      <time>{frontmatter.date.toLocaleDateString("pl-PL")}</time>
    </div>
  
  {(frontmatter.toc) &&
    <TableOfContents headings={headings} />
  }

  <ProseWrapper>
    <slot />
  </ProseWrapper>
</BaseLayout>

<style>
  h1 {
    text-align: center;
  }

  .date {
      display: flex;
      flex-direction: row;
      gap: var(--spacing-base);
      font-family: var(--font-sans);
  }
  
  .date span {
      color: var(--color-accent);
      font-weight: bold;
  }  
</style>